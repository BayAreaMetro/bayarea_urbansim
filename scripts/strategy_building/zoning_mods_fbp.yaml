# list the columns defining the parcel classes
zoningmodcat_cols: ["gg_id", "exd_id", "tra_id", "hra_id", "ppa_id", "ugb_id"]

#input_file: "basis_inputs/crosswalks/fbp_urbansim_parcel_classes.csv"
input_file: "basis_inputs/crosswalks/fbp_urbansim_parcel_classes_ot50pct.csv"
#output_file: "plan_strategies/zoning_mods_PBA50Plus_FBP_MAR7_2025.csv"
output_file: "plan_strategies/zoning_mods_PBA50Plus_FBP_MAR10_2025.csv"

zoning_modifications:
  - category: GG_TRA1_HRA_NonRes
    conditions: ["gg_id == 'GG'", "tra_id == 'tra_1'", "hra_id == 'HRA'", "exd_id != 'exd'"]
    updates:
      dua_up: 200
      far_up: 10
      add_bldg: 'HT HM OF HO SC RS RB MR MT ME'

  - category: GG_TRA1_HRA_Res
    conditions: ["gg_id == 'GG'", "tra_id == 'tra_1'", "hra_id == 'HRA'", "exd_id == 'exd'"]
    updates:
      dua_up: 50
      add_bldg: 'HM MR'

  - category: GG_TRA1_NonHRA_NonRes
    conditions: ["gg_id == 'GG'", "tra_id == 'tra_1'", "hra_id != 'HRA'", "exd_id != 'exd'"]
    updates:
      dua_up: 150
      far_up: 10
      add_bldg: 'HT HM OF HO SC RS RB MR MT ME'

  - category: GG_TRA1_NonHRA_Res
    conditions: ["gg_id == 'GG'", "tra_id == 'tra_1'", "hra_id != 'HRA'", "exd_id == 'exd'"]
    updates:
      dua_up: 50
      add_bldg: 'HM MR'

  - category: GG_TRA2_HRA_NonRes
    conditions: ["gg_id == 'GG'", "tra_id == 'tra_2'", "hra_id == 'HRA'", "exd_id != 'exd'"]
    updates:
      dua_up: 100
      far_up: 5
      add_bldg: 'HT HM OF HO SC RS RB MR MT ME'

  - category: GG_TRA2_HRA_Res
    conditions: ["gg_id == 'GG'", "tra_id == 'tra_2'", "hra_id == 'HRA'", "exd_id == 'exd'"]
    updates:
      dua_up: 50
      add_bldg: 'HM MR'

  - category: GG_TRA2_NonHRA_NonRes
    conditions: ["gg_id == 'GG'", "tra_id == 'tra_2'", "hra_id != 'HRA'", "exd_id != 'exd'"]
    updates:
      dua_up: 75
      far_up: 5
      add_bldg: 'HT HM OF HO SC RS RB MR MT ME'

  - category: GG_TRA2_NonHRA_Res
    conditions: ["gg_id == 'GG'", "tra_id == 'tra_2'", "hra_id != 'HRA'", "exd_id == 'exd'"]
    updates:
      dua_up: 35
      add_bldg: 'HM MR'

  - category: GG_TRA3_HRA_NonRes
    conditions: ["gg_id == 'GG'", "tra_id == 'tra_3'", "hra_id == 'HRA'", "exd_id != 'exd'"]
    updates:
      dua_up: 50
      far_up: 2
      add_bldg: 'HT HM OF HO SC RS RB MR MT ME'

  - category: GG_TRA3_HRA_Res
    conditions: ["gg_id == 'GG'", "tra_id == 'tra_3'", "hra_id == 'HRA'", "exd_id == 'exd'"]
    updates:
      dua_up: 50
      add_bldg: 'HM MR'

  - category: GG_TRA4_HRA_NonRes
    conditions: ["gg_id == 'GG'", "tra_id == 'tra_4'", "hra_id == 'HRA'", "exd_id != 'exd'"]
    updates:
      dua_up: 50
      far_up: 3
      add_bldg: 'HT HM OF HO SC RS RB MR MT ME'

  - category: GG_TRA4_HRA_Res
    conditions: ["gg_id == 'GG'", "tra_id == 'tra_4'", "hra_id == 'HRA'", "exd_id == 'exd'"]
    updates:
      dua_up: 50
      add_bldg: 'HM MR'

  - category: GG_TRA4_NonHRA_NonRes
    conditions: ["gg_id == 'GG'", "tra_id == 'tra_4'", "hra_id != 'HRA'", "exd_id != 'exd'"]
    updates:
      dua_up: 35
      far_up: 2
      add_bldg: 'HT HM OF HO SC RS RB MR MT ME'

  - category: GG_TRA4_NonHRA_Res
    conditions: ["gg_id == 'GG'", "tra_id == 'tra_4'", "hra_id != 'HRA'", "exd_id == 'exd'"]
    updates:
      dua_up: 35
      add_bldg: 'HM MR'

  - category: GG_TRA5_NonHRA_NonRes
    conditions: ["gg_id == 'GG'", "tra_id == 'tra_5'", "hra_id != 'HRA'", "exd_id != 'exd'"]
    updates:
      dua_up: 35
      far_up: 2
      add_bldg: 'HT HM OF HO SC RS RB MR MT ME'

  - category: GG_TRA5_NonHRA_Res
    conditions: ["gg_id == 'GG'", "tra_id == 'tra_5'", "hra_id != 'HRA'", "exd_id == 'exd'"]
    updates:
      dua_up: 35
      add_bldg: 'HM MR'

  - category: GG_TRA6_NonHRA_NonRes
    conditions: ["gg_id == 'GG'", "tra_id == 'tra_6'", "hra_id != 'HRA'", "exd_id != 'exd'"]
    updates:
      dua_up: 35
      far_up: 2
      add_bldg: 'HT HM OF HO SC RS RB MR MT ME'

  - category: GG_TRA6_NonHRA_Res
    conditions: ["gg_id == 'GG'", "tra_id == 'tra_6'", "hra_id != 'HRA'", "exd_id == 'exd'"]
    updates:
      dua_up: 35
      add_bldg: 'HM MR'

  - category: GG_TRA5_HRA_NonRes
    conditions: ["gg_id == 'GG'", "tra_id == 'tra_5'", "hra_id == 'HRA'", "exd_id != 'exd'"]
    updates:
      dua_up: 50
      far_up: 2
      add_bldg: 'HT HM OF HO SC RS RB MR MT ME'

  - category: GG_TRA5_HRA_Res
    conditions: ["gg_id == 'GG'", "tra_id == 'tra_5'", "hra_id == 'HRA'", "exd_id == 'exd'"]
    updates:
      dua_up: 50
      add_bldg: 'HM MR'

  - category: GG_TRA6_HRA_NonRes
    conditions: ["gg_id == 'GG'", "tra_id == 'tra_6'", "hra_id == 'HRA'", "exd_id != 'exd'"]
    updates:
      dua_up: 50
      far_up: 1.5
      add_bldg: 'HT HM OF HO SC RS RB MR MT ME'

  - category: PPA_Zoning
    conditions: ["ppa_id == 'PPA'"]
    updates:
      far_up: 2
      add_bldg: 'IW'
      drop_bldg: 'HT HM OF HO SC RS RB MR MT ME'
      dua_up: null

  - category: GG_No_TRA_HRA_Res
    conditions: ["gg_id == 'GG'", "tra_id == 'No_TRA'", "hra_id == 'HRA'", "exd_id == 'exd'"]
    updates:
      dua_up: 35
      add_bldg: 'HM MR'

# constrain development outside ugbs
  - category: UGB_Zoning
    conditions: ["ugb_id != 'UGB' "]
    updates:
      dua_down: 0
      far_down: 0
      far_up: null
      dua_up: null
      add_bldg: null
      drop_bldg: null


inclusionary:
  - category: GG_TRA_HRA
    conditions: ["gg_id == 'GG'", "(tra_id=='tra_1' or tra_id=='tra_2' or tra_id=='tra_3' or tra_id=='tra_4' or tra_id=='tra_5')", "hra_id == 'HRA' "]
    value: .20 

  - category: GG_TRA5_NO_HRA
    conditions: ["gg_id == 'GG'", "(tra_id=='tra_1' or tra_id=='tra_2' or tra_id=='tra_3' or tra_id=='tra_4' or tra_id=='tra_5')" , "hra_id != 'HRA' "]
    value: .15 
  - category: GG_TRA6_HRA
    conditions: ["gg_id == 'GG'", "(tra_id=='tra_6')" , "hra_id == 'HRA' "]
    value: .15 

  - category: GG_HRA_NO_TTS
    conditions: ["gg_id == 'GG'","~(tra_id=='tra_1' or tra_id=='tra_2')", "hra_id == 'HRA' "]
    value: .15 

  - category: REMAINDER
    conditions: 
      - >
        (gg_id == 'GG' and not (
        (tra_id in ['tra_1', 'tra_2', 'tra_3', 'tra_4', 'tra_5'] and hra_id == 'HRA') or 
        (tra_id in ['tra_1', 'tra_2', 'tra_3', 'tra_4', 'tra_5'] and hra_id != 'HRA') or 
        (tra_id == 'tra_6' and hra_id == 'HRA')
        )) or (gg_id != 'GG')
    value: 0.10
